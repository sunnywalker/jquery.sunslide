!function($,e){$.fn.sunslide=function(s){var i=$.extend({auto:!0,captions:!0,nav:!0,nextText:"&rarr;",pause:!0,play:!0,prevText:"&larr;",ratio:"first",stopOnNav:!0,timeout:5e3},s),t=0;return this.each(function(){function s(){i.auto&&(clearInterval(p),p=setInterval(u,i.timeout),m=!0,f&&f.find("use").attr("xlink:href","#"+C+"-pause-icon"))}function a(){i.auto=!1,clearInterval(p),f&&f.find("use").attr("xlink:href","#"+C+"-play-icon")}function n(){m=!1,clearInterval(p)}function l(){m=!0,s()}function d(e){var s="";return e.is("svg")&&e.children("title").length||e.children("desc").length?s=e.children("desc").length?e.children("desc").text():e.children("title").text():e.is("img")&&(s=e.attr("alt")||""),s}function r(){var e=v.filter(".sunslide-active-slide"),s=v.filter(".sunslide-next-slide"),t=e.prev(".sunslide-slide");t.length||(t=$(v[v.length-1])),e.attr("aria-live",""),t.removeClass("sunslide-hidden-slide").addClass("sunslide-active-slide").attr("aria-live","polite"),e.removeClass("sunslide-active-slide").addClass("sunslide-next-slide"),s.removeClass("sunslide-next-slide").addClass("sunslide-hidden-slide"),i.captions&&h.text(d(t.find("img,svg")))}function u(){var e=v.filter(".sunslide-active-slide"),s=v.filter(".sunslide-next-slide"),t=s.next(".sunslide-slide");i.auto&&!m||(t.length||(t=$(v[0])),e.removeClass("sunslide-active-slide").addClass("sunslide-hidden-slide").attr("aria-live",""),s.removeClass("sunslide-next-slide").addClass("sunslide-active-slide").attr("aria-live","polite"),t.removeClass("sunslide-hidden-slide").addClass("sunslide-next-slide"),i.captions&&h.text(d(s.find("img,svg"))))}var o=$(this),c,v,h,p,f,x,g,m,C="sunslide"+t++,M=0,y=0,k=0,w=99,I=0,T=0,L=0,D=0;o.wrap('<div class="'+C+' sunslide-wrapper"></div>'),c=o.parent(),c.css({position:"relative"}),v=o.children(),v.length<2||(M=c.width(),i.nav&&(x=$('<a href="#" title="previous slide" class="sunslide-nav previous">'+i.prevText+"</a>"),g=$('<a href="#" title="next slide" class="sunslide-nav next">'+i.nextText+"</a>"),x.on("click",function(e){e.preventDefault(),i.stopOnNav&&(m=!1,a()),s(),r()}),g.on("click",function(e){e.preventDefault(),i.stopOnNav&&(m=!1,a()),s(),u()}),c.append(x),c.append(g)),i.play&&(f=$('<a href="#" title="Toggle automatic slide changes" class="sunslide-nav play"><svg width="1em" height="1em" viewBox="0 0 36 36" fill="#fff"><defs><path id="'+C+'-pause-icon" data-state="playing" d="M11,10L17,10 17,26 11,26M20,10L26,10 26,26 20,26"/><path id="'+C+'-play-icon" data-state="paused" d="M11,10L18,13.74 18,22.28 11,26M18,13.74L26,18 26,18 18,22.28"/></defs><use xlink:href="#'+C+"-"+(i.auto?"pause":"play")+'-icon"/></svg></a>'),f.on("click",function(e){var t=$("use",$(this));e.preventDefault(),i.auto=!i.auto,m=i.auto,i.auto?t.attr("xlink:href","#"+C+"-pause-icon"):(t.attr("xlink:href","#"+C+"-play-icon"),s())}),c.append(f)),v.each(function(){var e=$(this).find("img,svg"),s,i,t;e.is("svg")||e[0].complete?(s=e.width(),i=e.height()):(s=parseInt(e.attr("width")||0,10),i=parseInt(e.attr("height")||0,10)),t=s/i,y=Math.max(s,y),k=Math.max(i,k),I=Math.max(t,I),w=Math.min(t,w),T||(T=s,L=i)}),D="min"===i.ratio?w:"max"===i.ratio?I:T/L,c.css("height",Math.ceil(y/D)+"px"),$(e).on("resize orientationchange",function(){c.css("height",Math.ceil(c.width()/D)+"px")}),v.addClass("sunslide-slide sunslide-hidden-slide"),$(v[0]).removeClass("sunslide-hidden-slide").addClass("sunslide-active-slide"),$(v[1]).removeClass("sunslide-hidden-slide").addClass("sunslide-next-slide"),i.captions&&(h=$('<div class="sunslide-caption">'+d(v.filter(".sunslide-active-slide").find("img,svg"))+"</div>"),c.append(h)),s(),i.pause&&c.on("mouseenter",n).on("mouseleave",l))})}}(jQuery,this);